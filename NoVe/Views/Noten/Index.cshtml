@model IEnumerable<NoVe.Models.FachKompetenzbereich>
@inject DatabaseHelper helper

@{
    ViewData["Title"] = "Noten";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Noten</h1>
@*<table class="table accept-users">
    <thead>
        <tr>
            <td>Fach</td>
            <td>Note</td>
            <td></td>
        </tr>
    </thead>
    <tbody>
        @if (Model.Count() != 0)
        {
            @foreach (var view in Model)
            {
                <tr>
                    <td>@view.Fachname</td>
                    <td>@view.Notenwert</td>
                    <td>
                        @Html.ActionLink("Bearbeiten", "benutzerEdit", new { id = view.Id })
                    </td>
                </tr>
            }
        }
    </tbody>
</table>*@

@if (Model.Count() != 0)
{
    @foreach (var kompetenzbereich in Model)
    {
        <h2>@kompetenzbereich.Kompetenzbereich.Name</h2>
        <table class="table accept-users">
            <thead>
                <tr>
                    <td>Fach</td>
                    <td>Note</td>
                    <td></td>
                </tr>
            </thead>
            <tbody>
                @if (kompetenzbereich.NoteView.Count() != 0)
                {
                    @foreach (var fach in kompetenzbereich.NoteView)
                    {
                        <tr>
                            <td>@fach.Fachname</td>
                            <td>@fach.Notenwert</td>
                            <td>
                                @Html.ActionLink("Bearbeiten", "NotenEdit", new { notenId = fach.Noteid, fachId = fach.FachId, kompetenzbereichId = kompetenzbereich.Kompetenzbereich.Id }) @* new { notenId = fach.Noteid, fachId = fach.Id, kompetenzbereichId = kompetenzbereich.Id} *@
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    }
}
